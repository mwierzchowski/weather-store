name: Delivery
on: push
#  workflow_run:
#    workflows:
#      - Integration
#    branches: "*"
#    types:
#      - completed

# TODO add requirement for main push

jobs:
  release:
    name: Release
    needs:
      - api-test
    runs-on: ubuntu-latest
    steps:
      - name: Debug
        run: echo Placeholder job was triggered

  deploy:
    needs:
      - release
    runs-on: ubuntu-latest
    steps:
        - name: Debug
          run: echo Placeholder job was triggered

  smoke-test:
    needs:
      - deploy
    runs-on: ubuntu-latest
    steps:
      - name: Debug
        run: echo Placeholder job was triggered